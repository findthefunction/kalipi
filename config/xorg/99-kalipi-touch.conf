# KaliPi — Touch input config for 3.5" SPI LCD (ADS7846 controller)
#
# The ADS7846 reports coordinates in the physical panel's native portrait
# orientation. The TransformationMatrix rotates touch coords to match the
# CW-rotated X11 virtual screen (480x320 landscape).
#
# Matrix "0 -1 1 1 0 0 0 0 1" means:
#   screen_x = 1 - input_y
#   screen_y = input_x
# This maps portrait touch space → landscape screen space (CW rotation).
#
# If touch is mirrored or offset after rotation, run xinput_calibrator
# to get device-specific calibration values.

Section "InputClass"
    Identifier      "ADS7846 Touchscreen"
    MatchProduct    "ADS7846"
    MatchDevicePath "/dev/input/event*"
    Driver          "evdev"
    Option          "TransformationMatrix" "0 -1 1 1 0 0 0 0 1"
EndSection
